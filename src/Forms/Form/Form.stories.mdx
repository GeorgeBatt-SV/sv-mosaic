import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import * as stories from './Form.stories';

<Meta title='Components/Form/Readme' />

# Form

ADD DESCRIPTION

## Props

https://github.com/simpleviewinc/sv-mosaic/blob/develop/src/Forms/Form/FormTypes.tsx

## Form Fields

All fields share a series of props that help the form identify and interact with each field.

### Generic Field Props
* **name** - `string` required - Significant name related to the field. This shouldn't have spaces as it serves as an identifier to read and write it's corresponding value.
* **label** - `string | undefined` required - A label to display for the user interacting with the filter.
...

---
### FormFieldExample
This component does this and that, and should only be used if you're trying to...

#### Props (Input Settings)
* **prop1** - `string` required - Description.
* **prop2** - `array` of `object` required - Description.
	* **prop3** - `string` - Description.
* **prop4** - `object` - Description.
	* **prop5** - `number` - Description.

#### How to use in a form?
```ts
const fields = useMemo(
	() => 
		[
			//...other fields
			{
				//...all generic field props,
				inputSettings: {
					prop1: 'Value of prop1',
					prop2: [
						{
							prop3: 'Value of prop3'
						}
					],
					prop4: {
						prop5: 5,
					},
				}
			},
			//...other fields
		],
	[]
);
```

---
## FormFieldDropdownSingleSelection
- `Dropdown Single Selection` is a simple wrapper for [Material-UI Autocomplete](https://material-ui.com/components/autocomplete/#autocomplete) but with our brand colors.
- [**Playground**](http://kube.simpleview.io:10000/?path=/docs/formfields-formfielddropdownsingleselection--playground)
- Default Value: `string` - String of the selected options

#### Props (Input Settings)
* **placeholder** - `string` Optional - Example text shown inside of the text field portion of the dropdown.
* **size** - `Sizes | string` Optional - Size of the field. Could be either one of the predefined sizes (please see Sizes section), or a custom size. This property can be internally overwritten if the field is placed inside of a row with other fields.
* **options** - `array` of `object` Required - Array of options to be displayed on the options.
	* **title** - `string` - Title of the option.
	* **value** - `any` - Value of the option.

#### How to use in a form?
```ts
const fields = useMemo(
	() => 
		[
			//...other fields
			{
				//...all generic field props,
				type: "dropdown",
				inputSettings: {
					options: [
						{ title: "The Shawshank Redemption", value: 1994 },
						{ title: "The Godfather", value: 1972 },
						{ title: "The Godfather: Part II", value: 1974 },
						{ title: "The Dark Knight", value: 2008 }
					],
					size: "sm",
					placeholder: "Placeholder",
				}
			},
			//...other fields
		],
	[]
);
```
---
## FormFieldImageUpload
- `Image Upload` This component helps upload images to the assets library, The setup supports images, videos, or documents 
- [[**Playground**]](http://kube.simpleview.io:10000/?path=/docs/formfields-formfieldimageupload--playground)
- Default Value: `object` - Object of the value arguments
	* **imgName** `string` Optional - Image name
	* **size** `number` Optional - Image size
	* **type** `string` Optional - Image type
	* **height** `number` Optional - Image Height
	* **width** `number` Optional - Image width
	* **imgCoords** `object` Optional - Image coordinates
		* **x** `number`
		* **y** `number`

#### Props (Input Settings)
* **handleSetFocus** - `() => void` Optional - Callback executed when the set focus button is clicked.
* **options** - `array` of `object` Optional - List of menu options that can be executed by the component.

#### How to use in a form?
```ts
const fields = useMemo(
	() => 
		[
			//...other fields
			{
				//...all generic field props,
				type: "imageUpload",
				inputSettings: {
					handleSetFocus: () => {
						alert("Set focus is called");
					},
					options: [
						{
							label: "Edit",
							action: handleEdit,
						},
						{
							label: "Translate",
							action: handleTranslate,
						}
					]
				}
			},
			//...other fields
		],
	[]
);
```

---
## FormFieldImageVideoLinkDocument
- `Image Video Link Document Browsing` This component is helpful when the user needs browse an asset from the established assets library for their content.
The setup supports images, videos, documents or links. 
- [**Playground**](http://kube.simpleview.io:10000/?path=/docs/formfields-formfieldimagevideolinkdocumentbrowsing--playground)
- Default Value: `array` of `string` - Array of values of the selected options 

#### Props (Input Settings)
* **handleRemove** - `() => void` Optional - Callback executed when the remove button is clicked. This function should empty the assetProperties array to go the set up stage.
* **handleSetDocument** - `() => Promise<void>` Optional - Callback executed when the document icon clicked. It should fill the assetProperties array with the document properties.
* **handleSetImage** - `() => Promise<void>` Required - Callback executed when the image icon clicked. It should fill the assetProperties array with the document properties.
* **handleSetVideo** - `() => Promise<void>` Optional - Callback executed when the video icon is clicked. It should fill the assetProperties array with the document properties.
* **handleSetLink** - `() => Promise<void>` Optional - Callback executed when the link icon is clicked. It should fill the assetProperties array with the document properties.
* **options** - `array` of `object` Optional - List of menu options that can be executed by the component.
* **src** - `string` Optional - If the asset contains an image, its source should be passed via this src prop.

#### How to use in a form?
```ts
const fields = useMemo(
	() => 
		[
			//...other fields
			{
				//...all generic field props,
				type: "imageVideoDocumentLink",
				inputSettings: {
					options: [
						{
							label: "Edit",
							action: handleEdit,
						},
						{
							label: "Translate",
							action: handleTranslate,
						},
					],
					handleSetImage: () => {
						alert("handleSetImage is called");
					},
					handleSetDocument: () => {
						alert("handleSetImage is called");
					},
					handleSetVideo: handleSetDocument: () => {
						alert("handleSetVideo is called");
					},
					handleSetLink: handleSetDocument: () => {
						alert("handleSetLink is called");
					},
					src: "Show image"
				}
			},
			//...other fields
		],
	[]
);
```
---
## FormFieldMapCoordinates
- `Map Coordinates` This component is helpful when the user needs browse coordinates in a map.
- [**Playground**](http://kube.simpleview.io:10000/?path=/docs/formfields-formfieldmapcoordinates--playground)
- Default Value: `object` - Object of the value arguments 
	* **mapPosition** - `object` Optional - Latitude and longitude object.
		* **lat** - `number` - Latitude
		* **lng** - `number` - longitude

#### Props (Input Settings)
* **address** - `object` Optional - Address object used to set lat and lng values when using the autocoordinates feature.
* **apiKey** - `string` Required - Google Maps API key needed to consume the Maps JavaScript API and Places API.
* **mapPosition** - `object` Optional - Latitude and longitude object.
	* **lat** - `number` - Latitude
	* **lng** - `number` - longitude

#### How to use in a form?
```ts
const fields = useMemo(
	() => 
		[
			//...other fields
			{
				//...all generic field props,
				type: "mapCoordinates",
				inputSettings: {
					apiKey: "qwqertr-EDRFERFERewfqwefererg",
					mapPosition: {
						lat: -3.766925461296721
						lng: -40.54497265625
					},
					address: {
						id: 1,
						address1: "8950 N Oracle Rd",
						city: "Oro Valley",
						postalCode: "85704",
						country: "US",
						state: "AZ",
						types: ["physical", "billing"]
					}
				}
			},
			//...other fields
		],
	[]
);
```

---
## FormFieldPhoneSelectionDropdown
- `FormFieldPhoneSelectionDropdown` component is built over [React-Phone-Input-2](https://www.npmjs.com/package/react-phone-input-2) but with SimpleView brand colors. The phone selection dropdown is useful when you want to allow users to enter the information of phone numbers, is conformed with the selection of the country in the dropdown that contains the country flag, and automatically the prefix and number or characters placeholder are showed. 
- [**Playground**](http://kube.simpleview.io:10000/?path=/docs/formfields-formfieldphoneselectiondropdown--playground)
- Default Value: `string` - String of the selected options

#### Props (Input Settings)
* **autoFormat** - `boolean` Optional - Phone formatting according to the country selected.
* **country** - `string` Optional - Initial country. It must be a country code (e.g., us, mx, etc.)
* **placeholder** - `string` Optional - Example text shown inside of the input field portion of the dropdown
* **value** - `string` Optional - Input state value.

#### How to use in a form?
```ts
const fields = useMemo(
	() => 
		[
			//...other fields
			{
				//...all generic field props,
				type: "phone",
				inputSettings: {
					autoFormat: false,
					country: "mx",
					placeholder: "Placeholder",
				}
			},
			//...other fields
		],
	[]
);
```

## Form Example

<Preview withSource='none'>
  <stories.Playground />
</Preview>